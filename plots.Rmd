---
title: "Plots"
output: 
  html_document:
    toc: true
    toc_float: true
---

```{r message = TRUE, echo = FALSE}
library(tidyverse)
library(scales)
library(plotly)
library(p8105.datasets)
data("instacart")
```

```{r}
aisle_orders = instacart |> 
  count(aisle, name = "n") |> 
  filter(n > 10000) |> 
  arrange(desc(n)) |> 
  mutate(aisle = fct_reorder(aisle, n))

aisle_orders |> 
  plot_ly(
    x = ~n, y = ~aisle, type = "bar", orientation = "h",
    marker = list(color = ~n,
                  colorscale = "Rainbow",
                  showscale = TRUE
                  ),
    hovertemplate = paste(
      "<b>Aisle:<b> %{y}<br>",
      "<b>Order Count:<b> %{x}<extra></extra>"
    )
  ) |> 
  layout(
    title = list(text = "Order Counts (for Aisles with >10k Orders)", x = 0.5),
    xaxis = list(title = "Order Count"),
    yaxis = list(title = "Aisle")
  )
```

